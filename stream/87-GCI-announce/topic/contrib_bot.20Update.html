<html>
<head><meta charset="utf-8"><title>contrib_bot Update · GCI announce · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://refeed.github.io/zarchive-refeed/stream/87-GCI-announce/index.html">GCI announce</a></h2>
<h3>Topic: <a href="https://refeed.github.io/zarchive-refeed/stream/87-GCI-announce/topic/contrib_bot.20Update.html">contrib_bot Update</a></h3>

<hr>

<base href="chat.zulip.org">

<head><link href="https://refeed.github.io/zarchive-refeed/style.css" rel="stylesheet"></head>

<a name="106335"></a>
<h4><a href="chat.zulip.org#narrow/stream/87-GCI%20announce/topic/contrib_bot%20Update/near/106335" class="zl"><img src="https://refeed.github.io/zarchive-refeed/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rafid Aslam <a href="https://refeed.github.io/zarchive-refeed/stream/87-GCI-announce/topic/contrib_bot.20Update.html#106335">(Dec 26 2016 at 18:57)</a>:</h4>
<p>Heyo Folks, for those who working on interactive bots task, just now we've merged an commit about interactive bots to master: <a href="https://github.com/zulip/zulip/commit/947fdf0b37d18923b7aa6346f6ea9b433db0f0c7" target="_blank" title="https://github.com/zulip/zulip/commit/947fdf0b37d18923b7aa6346f6ea9b433db0f0c7">947fdf</a> . That commit adds <code>client</code> argument to <code>triage_message()</code> of every bot codes. So please rebase your bot code to the latest build of master and add <code>client</code> argument to your bot's <code>triage_message()</code>.<br>
Also, this allows us to access name and email address of the bot account, by accessing:</p>
<ul>
<li><code>client.full_name</code> to get the name of the bot account.</li>
<li><code>client.email</code> to get the email of the bot account.</li>
</ul>



<a name="106338"></a>
<h4><a href="chat.zulip.org#narrow/stream/87-GCI%20announce/topic/contrib_bot%20Update/near/106338" class="zl"><img src="https://refeed.github.io/zarchive-refeed/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://refeed.github.io/zarchive-refeed/stream/87-GCI-announce/topic/contrib_bot.20Update.html#106338">(Dec 26 2016 at 18:58)</a>:</h4>
<p>cool!</p>



<a name="106343"></a>
<h4><a href="chat.zulip.org#narrow/stream/87-GCI%20announce/topic/contrib_bot%20Update/near/106343" class="zl"><img src="https://refeed.github.io/zarchive-refeed/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yago González <a href="https://refeed.github.io/zarchive-refeed/stream/87-GCI-announce/topic/contrib_bot.20Update.html#106343">(Dec 26 2016 at 18:59)</a>:</h4>
<p>Thanks for the heads-up, <span class="user-mention" data-user-email="rafidteam@gmail.com">@Rafid Aslam</span>!</p>



<a name="106346"></a>
<h4><a href="chat.zulip.org#narrow/stream/87-GCI%20announce/topic/contrib_bot%20Update/near/106346" class="zl"><img src="https://refeed.github.io/zarchive-refeed/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell (showell) <a href="https://refeed.github.io/zarchive-refeed/stream/87-GCI-announce/topic/contrib_bot.20Update.html#106346">(Dec 26 2016 at 18:59)</a>:</h4>
<p>Another enhancement for<code>run.py</code> may be to make it fail fast somehow when your configuration is broken.  This may require modifications to the API.</p>



<a name="106367"></a>
<h4><a href="chat.zulip.org#narrow/stream/87-GCI%20announce/topic/contrib_bot%20Update/near/106367" class="zl"><img src="https://refeed.github.io/zarchive-refeed/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rafid Aslam <a href="https://refeed.github.io/zarchive-refeed/stream/87-GCI-announce/topic/contrib_bot.20Update.html#106367">(Dec 26 2016 at 19:08)</a>:</h4>
<p><span class="user-mention" data-user-email="showell30@yahoo.com">@Steve Howell</span> so that enhancement is not implemented yet ?</p>



<a name="106382"></a>
<h4><a href="chat.zulip.org#narrow/stream/87-GCI%20announce/topic/contrib_bot%20Update/near/106382" class="zl"><img src="https://refeed.github.io/zarchive-refeed/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yago González <a href="https://refeed.github.io/zarchive-refeed/stream/87-GCI-announce/topic/contrib_bot.20Update.html#106382">(Dec 26 2016 at 19:21)</a>:</h4>
<p><span class="user-mention" data-user-email="showell30@yahoo.com">@Steve Howell</span> Remember what we talked in <a class="stream" data-stream-id="74" href="/#narrow/stream/GCI%20general">#GCI general</a> (<a href="https://chat.zulip.org/#narrow/stream/GCI.20general/topic/Importing.20" target="_blank" title="https://chat.zulip.org/#narrow/stream/GCI.20general/topic/Importing.20">Importing 'zerver'</a> stream)?</p>



<a name="106383"></a>
<h4><a href="chat.zulip.org#narrow/stream/87-GCI%20announce/topic/contrib_bot%20Update/near/106383" class="zl"><img src="https://refeed.github.io/zarchive-refeed/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yago González <a href="https://refeed.github.io/zarchive-refeed/stream/87-GCI-announce/topic/contrib_bot.20Update.html#106383">(Dec 26 2016 at 19:21)</a>:</h4>
<p>It was about adding the client's <code>do_api_query()</code> method to the <code>RestrictedClient</code>, in order to be able to do queries to the API. In my case I needed it for uploading images, but I guess it could be pretty useful for other purposes.</p>



<a name="106388"></a>
<h4><a href="chat.zulip.org#narrow/stream/87-GCI%20announce/topic/contrib_bot%20Update/near/106388" class="zl"><img src="https://refeed.github.io/zarchive-refeed/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yago González <a href="https://refeed.github.io/zarchive-refeed/stream/87-GCI-announce/topic/contrib_bot.20Update.html#106388">(Dec 26 2016 at 19:22)</a>:</h4>
<p>If you still think it's a good idea, I could create a PR too</p>



<a name="106390"></a>
<h4><a href="chat.zulip.org#narrow/stream/87-GCI%20announce/topic/contrib_bot%20Update/near/106390" class="zl"><img src="https://refeed.github.io/zarchive-refeed/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Pan <a href="https://refeed.github.io/zarchive-refeed/stream/87-GCI-announce/topic/contrib_bot.20Update.html#106390">(Dec 26 2016 at 19:27)</a>:</h4>
<p>How about all the current bots in <code>/contrib_bots</code>, don't they need to be changed also?</p>



<a name="106393"></a>
<h4><a href="chat.zulip.org#narrow/stream/87-GCI%20announce/topic/contrib_bot%20Update/near/106393" class="zl"><img src="https://refeed.github.io/zarchive-refeed/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yago González <a href="https://refeed.github.io/zarchive-refeed/stream/87-GCI-announce/topic/contrib_bot.20Update.html#106393">(Dec 26 2016 at 19:29)</a>:</h4>
<p>Looks like Rafid already got rid of that, too. All of them have been updated (look at the commit he linked to) :)</p>



<a name="106394"></a>
<h4><a href="chat.zulip.org#narrow/stream/87-GCI%20announce/topic/contrib_bot%20Update/near/106394" class="zl"><img src="https://refeed.github.io/zarchive-refeed/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Pan <a href="https://refeed.github.io/zarchive-refeed/stream/87-GCI-announce/topic/contrib_bot.20Update.html#106394">(Dec 26 2016 at 19:29)</a>:</h4>
<p><img alt=":ok_hand:" class="emoji" src="/static/third/gemoji/images/emoji/ok_hand.png" title=":ok_hand:"> </p>



<a name="106469"></a>
<h4><a href="chat.zulip.org#narrow/stream/87-GCI%20announce/topic/contrib_bot%20Update/near/106469" class="zl"><img src="https://refeed.github.io/zarchive-refeed/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Hönig <a href="https://refeed.github.io/zarchive-refeed/stream/87-GCI-announce/topic/contrib_bot.20Update.html#106469">(Dec 26 2016 at 23:08)</a>:</h4>
<p>I just created a <a href="https://github.com/zulip/zulip/pull/2929" target="_blank" title="https://github.com/zulip/zulip/pull/2929">PR</a> in order to update the documentation on developing bots to contain the new feature. </p>



<a name="106470"></a>
<h4><a href="chat.zulip.org#narrow/stream/87-GCI%20announce/topic/contrib_bot%20Update/near/106470" class="zl"><img src="https://refeed.github.io/zarchive-refeed/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Hönig <a href="https://refeed.github.io/zarchive-refeed/stream/87-GCI-announce/topic/contrib_bot.20Update.html#106470">(Dec 26 2016 at 23:09)</a>:</h4>
<p>Also, I noticed that the new <code>client</code> object in <code>triage_message</code> contains the function <code>client.send_message</code> as well. This is surely not desirable, as we do not want to send any messages in <code>triage_message</code></p>



<a name="106471"></a>
<h4><a href="chat.zulip.org#narrow/stream/87-GCI%20announce/topic/contrib_bot%20Update/near/106471" class="zl"><img src="https://refeed.github.io/zarchive-refeed/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Pan <a href="https://refeed.github.io/zarchive-refeed/stream/87-GCI-announce/topic/contrib_bot.20Update.html#106471">(Dec 26 2016 at 23:11)</a>:</h4>
<p><span class="user-mention" data-user-email="robhoenig@gmail.com">@Robert Hönig</span> looked at your PR. Looks good.</p>



<a name="106472"></a>
<h4><a href="chat.zulip.org#narrow/stream/87-GCI%20announce/topic/contrib_bot%20Update/near/106472" class="zl"><img src="https://refeed.github.io/zarchive-refeed/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Pan <a href="https://refeed.github.io/zarchive-refeed/stream/87-GCI-announce/topic/contrib_bot.20Update.html#106472">(Dec 26 2016 at 23:11)</a>:</h4>
<p>I also think that <code>client.send_message</code> is not needed, since the <code>message</code> already has it.</p>



<a name="106477"></a>
<h4><a href="chat.zulip.org#narrow/stream/87-GCI%20announce/topic/contrib_bot%20Update/near/106477" class="zl"><img src="https://refeed.github.io/zarchive-refeed/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Hönig <a href="https://refeed.github.io/zarchive-refeed/stream/87-GCI-announce/topic/contrib_bot.20Update.html#106477">(Dec 26 2016 at 23:21)</a>:</h4>
<p><span class="user-mention" data-user-email="joshuapan8@gmail.com">@Joshua Pan</span> I just had a glance at the code. In order to remove client.send_message from the object, I think that it would be necessary to create a new object. Should I do that in another PR?</p>



<a name="106482"></a>
<h4><a href="chat.zulip.org#narrow/stream/87-GCI%20announce/topic/contrib_bot%20Update/near/106482" class="zl"><img src="https://refeed.github.io/zarchive-refeed/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Pan <a href="https://refeed.github.io/zarchive-refeed/stream/87-GCI-announce/topic/contrib_bot.20Update.html#106482">(Dec 26 2016 at 23:23)</a>:</h4>
<p>Yea, definitely. Keep the two commits in two different PRs.</p>



<a name="106488"></a>
<h4><a href="chat.zulip.org#narrow/stream/87-GCI%20announce/topic/contrib_bot%20Update/near/106488" class="zl"><img src="https://refeed.github.io/zarchive-refeed/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Hönig <a href="https://refeed.github.io/zarchive-refeed/stream/87-GCI-announce/topic/contrib_bot.20Update.html#106488">(Dec 26 2016 at 23:26)</a>:</h4>
<p>okay :) the checks for the first PR have passed, can you merge it?</p>



<a name="106489"></a>
<h4><a href="chat.zulip.org#narrow/stream/87-GCI%20announce/topic/contrib_bot%20Update/near/106489" class="zl"><img src="https://refeed.github.io/zarchive-refeed/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://refeed.github.io/zarchive-refeed/stream/87-GCI-announce/topic/contrib_bot.20Update.html#106489">(Dec 26 2016 at 23:27)</a>:</h4>
<p><span class="user-mention" data-user-email="robhoenig@gmail.com">@Robert Hönig</span> that's <a href="https://github.com/zulip/zulip/pull/2929/files" target="_blank" title="https://github.com/zulip/zulip/pull/2929/files">https://github.com/zulip/zulip/pull/2929/files</a>?</p>



<a name="106490"></a>
<h4><a href="chat.zulip.org#narrow/stream/87-GCI%20announce/topic/contrib_bot%20Update/near/106490" class="zl"><img src="https://refeed.github.io/zarchive-refeed/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Hönig <a href="https://refeed.github.io/zarchive-refeed/stream/87-GCI-announce/topic/contrib_bot.20Update.html#106490">(Dec 26 2016 at 23:28)</a>:</h4>
<p>yep :)</p>



<a name="106524"></a>
<h4><a href="chat.zulip.org#narrow/stream/87-GCI%20announce/topic/contrib_bot%20Update/near/106524" class="zl"><img src="https://refeed.github.io/zarchive-refeed/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Hönig <a href="https://refeed.github.io/zarchive-refeed/stream/87-GCI-announce/topic/contrib_bot.20Update.html#106524">(Dec 27 2016 at 00:12)</a>:</h4>
<p>thanks for merging <span class="user-mention" data-user-email="tabbott@zulipchat.com">@Tim Abbott</span>!</p>



<a name="108449"></a>
<h4><a href="chat.zulip.org#narrow/stream/87-GCI%20announce/topic/contrib_bot%20Update/near/108449" class="zl"><img src="https://refeed.github.io/zarchive-refeed/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell (showell) <a href="https://refeed.github.io/zarchive-refeed/stream/87-GCI-announce/topic/contrib_bot.20Update.html#108449">(Dec 28 2016 at 15:22)</a>:</h4>
<p>Ideally that parameter would be called something more like <code>client_info</code>.</p>



<hr><p>Last updated: Jul 19 2022 at 08:22 UTC</p>
</html>